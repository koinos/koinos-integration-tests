The resource test is designed to check observed resource consumption against a known test vector.

The test vector is generated by `resource_sim.py`.

If the resources consumed by the test change, the test vectors will also change. If this happens (due to updating a contract, for example), we ned to update the test vectors. This can be done in three simple steps.

1. Comment out test checks at the end of the resource test and run the test.

``` golang
	for i := 0; i < 100; i++ {
		trx, err := integration.CreateTransaction(client, []*protocol.Operation{transferOp}, aliceKey)
		integration.NoError(t, err)

		receipt, err := integration.CreateBlock(client, []*protocol.Transaction{trx}, genesisKey)
		integration.NoError(t, err)

		fmt.Printf("   [%v, %v, %v],\n", receipt.DiskStorageCharged, receipt.NetworkBandwidthCharged, receipt.ComputeBandwidthCharged)
		markets, err = getMarkets(client, resourceKey.AddressBytes())
		integration.NoError(t, err)

		//require.EqualValues(t, testValues[i].DiskSupply, markets.DiskStorage.ResourceSupply)
		//require.EqualValues(t, testValues[i].NetworkSupply, markets.NetworkBandwidth.ResourceSupply)
		//require.EqualValues(t, testValues[i].ComputeSupply, markets.ComputeBandwidth.ResourceSupply)
	}
```

After running the test, you will get an output that looks like the following:

``` python
testConsumption = [
   [106, 562, 512146],
   [0, 562, 517322],
   [0, 562, 517322],
   ...
   [0, 562, 517816],
]
```

2. Copy the resource consumption in to the sim and run the sim.

After running the sim, you will see the test vector outputs:

``` golang
testValues := []marketTestValue{
    {DiskSupply: 8332061147, DiskCost: 48553, NetworkSupply: 55157212842, NetworkCost: 7335, ComputeSupply: 12098465547692, ComputeCost: 34},
    {DiskSupply: 8332061147, DiskCost: 48553, NetworkSupply: 55157212280, NetworkCost: 7335, ComputeSupply: 12098465030374, ComputeCost: 34},
    {DiskSupply: 8332061147, DiskCost: 48553, NetworkSupply: 55157211718, NetworkCost: 7335, ComputeSupply: 12098464513060, ComputeCost: 34},
    ...
    {DiskSupply: 8332061147, DiskCost: 48553, NetworkSupply: 55157157204, NetworkCost: 7335, ComputeSupply: 12098414331567, ComputeCost: 34},
}
```

3. Copy the test vectors back in to resource test, uncomment the test checks, and run the test.

If you've done this correctly, the test should pass!